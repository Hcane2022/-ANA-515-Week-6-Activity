EAA <- read.csv(file = "StormEvents_details-ftp_v1.0_d1990_c20220425.csv")
myvars <- c("BEGIN_DATE_TIME", "END_DATE_TIME", "EPISODE_ID","EVENT_ID","STATE","STATE_FIPS", "CZ_NAME","CZ_TYPE","CZ_FIPS","EVENT_TYPE","SOURCE","BEGIN_LAT","BEGIN_LON","END_LAT","END_LON")
newdata <- EAA[myvars]
library(tidyverse)
newdata$STATE = str_to_title(newdata$STATE)
newdata$CZ_NAME = str_to_title(newdata$CZ_NAME)
newdata <- newdata %>% arrange(STATE)
newdata <- filter(newdata, CZ_TYPE == "C" )
newdata <- select (newdata,-c(CZ_TYPE))
newdata$STATE_FIPS <- str_pad(newdata$STATE_FIPS,width =  2, side = "left", pad = 0)
newdata$CZ_FIPS <- str_pad(newdata$CZ_FIPS, 3, side = "left", pad = 0)
newdata$FIPS <- paste(newdata$STATE_FIPS, newdata$CZ_FIPS, sep="")
newdata <- rename_all(newdata,tolower)
data("state")
us_state_info<-data.frame(state=state.name, region=state.region, area=state.area)
table(newdata$state)
Newset<- data.frame(table(newdata$state))
head(Newset)
newset1<-rename(Newset, c("state"="Var1"))
merged <- merge(x=newset1,y=us_state_info,by.x = "state",by.y = "state")
head(merged)
library(ggplot2)
merged_plot <- ggplot(merged, aes(x = area, y = Freq)) + geom_point(aes(color=region)) + labs(x= "Land area (square miles)", y= "# of storm events in 1990")
merged_plot
